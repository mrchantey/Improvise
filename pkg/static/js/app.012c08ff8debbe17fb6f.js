webpackJsonp([1],{"2YUs":function(t,e){},"4OIX":function(t,e){},"92qo":function(t,e){},AK26:function(t,e){},"C+l2":function(t,e){},DI3d:function(t,e){},DnOe:function(t,e){},MiGc:function(t,e){},NHnr:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n("7+uW"),r={render:function(){var t=this.$createElement;return(this._self._c||t)("div",[this._v("\n    NAO Controller\n")])},staticRenderFns:[]};var s={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("hr"),t._v(" "),n("div",{staticClass:"links"},[n("router-link",{attrs:{to:"/connection"}},[t._v("Connection")]),t._v(" "),n("router-link",{attrs:{to:"/dialog"}},[t._v("Dialog")]),t._v(" "),n("router-link",{attrs:{to:"/remote"}},[t._v("Remote Controller")]),t._v(" "),n("router-link",{attrs:{to:"/actions"}},[t._v("Actions")]),t._v(" "),n("router-link",{attrs:{to:"/subtitles"}},[t._v("Subtitles")])],1),t._v(" "),n("hr")])},staticRenderFns:[]};var i={name:"App",components:{Heading:n("VU/8")(null,r,!1,function(t){n("SeoG")},"data-v-587fa2a8",null).exports,Navigation:n("VU/8")(null,s,!1,function(t){n("C+l2")},"data-v-47527d0d",null).exports}},a={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("heading"),this._v(" "),e("navigation"),this._v(" "),e("router-view")],1)},staticRenderFns:[]};var c=n("VU/8")(i,a,!1,function(t){n("92qo")},null,null).exports,u=n("/ocq"),l={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("h1",[this._v("Home")]),this._v(" "),e("div",[this._v("Welcome to the Nao Controller app.")])])}]};var p=n("VU/8")({data:function(){return{naoIP:""}},methods:{submit:function(){this.$router.push("/socket/"+this.naoIP),this.naoIP=""},ipKeyDown:function(t){"Enter"===t.key&&this.submit()}}},l,!1,function(t){n("2YUs")},"data-v-20de3f8c",null).exports,d={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"container"},[e("div",{staticClass:"content"},[e("div",{staticClass:"title"},[this._v(this._s(this.title))]),this._v(" "),this._t("default")],2)])},staticRenderFns:[]};var h=n("VU/8")({props:["title"]},d,!1,function(t){n("AK26")},"data-v-5e7cea42",null).exports,v={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("div",{staticClass:"title"},[this._v(this._s(this.title))]),this._v(" "),this._t("default")],2)},staticRenderFns:[]};var m=n("VU/8")({props:["title"]},v,!1,function(t){n("c2sa")},"data-v-1410201a",null).exports,f={props:["title","onEnterCallback"],components:{ModuleItem:m},data:function(){return{value:""}},methods:{onEnter:function(){this.onEnterCallback(this.value),this.value=""},onTextboxKeyPress:function(t){"Enter"==t.key&&this.onEnter()}}},_={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("module-item",{attrs:{title:t.title}},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.value,expression:"value"}],attrs:{tabindex:"1"},domProps:{value:t.value},on:{keypress:t.onTextboxKeyPress,input:function(e){e.target.composing||(t.value=e.target.value)}}}),t._v(" "),n("button",{on:{click:t.onEnter}},[t._v("Submit")]),t._v(" "),t._t("default")],2)},staticRenderFns:[]},b=n("VU/8")(f,_,!1,null,null,null).exports,S={props:["webSpeech"],components:{InputText:b,ModuleItem:m}},g={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("module-item",{attrs:{title:"Conversation"}},[n("input-text",{attrs:{title:"Ask a question",onEnterCallback:t.webSpeech.MakeQuery}}),t._v(" "),n("div",{staticClass:"contents"},t._l(t.webSpeech.conversationLog,function(e,o){return n("div",{key:o,class:"sentence "+e.type},[t._v(t._s(e.text))])}))],1)},staticRenderFns:[]};var k=n("VU/8")(S,g,!1,function(t){n("DnOe")},null,null).exports,w={props:["title","onChange","initialValue"],components:{ModuleItem:m},data:function(){return{isChecked:!1}},created:function(){void 0!==this.initialValue&&(this.isChecked=this.initialValue)}},y={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("module-item",{attrs:{title:t.title}},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.isChecked,expression:"isChecked"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.isChecked)?t._i(t.isChecked,null)>-1:t.isChecked},on:{change:[function(e){var n=t.isChecked,o=e.target,r=!!o.checked;if(Array.isArray(n)){var s=t._i(n,null);o.checked?s<0&&(t.isChecked=n.concat([null])):s>-1&&(t.isChecked=n.slice(0,s).concat(n.slice(s+1)))}else t.isChecked=r},function(e){t.onChange(t.isChecked)}]}})])},staticRenderFns:[]},x=n("VU/8")(w,y,!1,null,null,null).exports,A={props:["title","onDown","onUp","value"],components:{ModuleItem:m}},C={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("module-item",{attrs:{title:t.title}},[n("div",{staticClass:"functional"},[n("span",[t._v(t._s(t.value))]),t._v(" "),n("button",{on:{click:t.onDown}},[t._v("-")]),t._v(" "),n("button",{on:{click:t.onUp}},[t._v("+")])])])},staticRenderFns:[]};var R=n("VU/8")(A,C,!1,function(t){n("DI3d")},"data-v-468114b5",null).exports,E={props:["webSpeech"],components:{ModuleItem:m,InputCheckbox:x,InputRange:R}},I={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("module-item",{attrs:{title:"Settings"}},[n("div",{staticClass:"contents"},[n("input-checkbox",{attrs:{title:"Enabled",onChange:t.webSpeech.setEnabled,initialValue:t.webSpeech.hasStarted}}),t._v(" "),n("input-checkbox",{attrs:{title:"Auto Restart",initialValue:t.webSpeech.autoRestart,onChange:t.webSpeech.setAutoRestart}}),t._v(" "),n("input-checkbox",{attrs:{title:"Continuous",initialValue:t.webSpeech.recognition.continuous,onChange:t.webSpeech.setContinuous}}),t._v(" "),n("input-checkbox",{attrs:{title:"Interim",initialValue:t.webSpeech.recognition.interimResults,onChange:t.webSpeech.setInterim}}),t._v(" "),n("input-range",{attrs:{title:"Phrase Timeout (not yet implemented)",onUp:t.webSpeech.incrementPhraseTimeout,onDown:t.webSpeech.decrementPhraseTimeout,value:t.webSpeech.phraseTimeout}})],1)])},staticRenderFns:[]};var U=n("VU/8")(E,I,!1,function(t){n("QT3L")},"data-v-69b13020",null).exports,P={props:["title","value"],components:{ModuleItem:m}},T={render:function(){var t=this.$createElement,e=this._self._c||t;return e("module-item",{attrs:{title:this.title}},[e("p",[this._v(this._s(this.value))])])},staticRenderFns:[]},V=n("VU/8")(P,T,!1,null,null,null).exports,$={props:["title","value"],components:{ModuleItem:m}},D={render:function(){var t=this.$createElement,e=this._self._c||t;return e("module-item",{attrs:{title:this.title}},[e("div",[this._v(this._s(this.value))])])},staticRenderFns:[]},F={props:["webSpeech"],components:{ModuleItem:m,OutputText:V,OutputCheckbox:n("VU/8")($,D,!1,null,null,null).exports}},M={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("module-item",{attrs:{title:"Status"}},[n("div",{staticClass:"contents"},[n("output-text",{attrs:{title:"Current Sentence",value:t.webSpeech.currentSentence}}),t._v(" "),n("output-text",{attrs:{title:"Last Sentence",value:t.webSpeech.lastSentence}}),t._v(" "),n("output-checkbox",{attrs:{title:"Online",value:t.webSpeech.hasStarted}}),t._v(" "),n("output-checkbox",{attrs:{title:"Audio Online",value:t.webSpeech.hasAudioStarted}}),t._v(" "),n("output-checkbox",{attrs:{title:"Sound detected",value:t.webSpeech.hasSoundStarted}}),t._v(" "),n("output-checkbox",{attrs:{title:"Speech detected",value:t.webSpeech.hasSpeechStarted}})],1)])},staticRenderFns:[]};var L={components:{Module:h,DialogConversation:k,DialogSettings:U,DialogStatus:n("VU/8")(F,M,!1,function(t){n("lHgE")},"data-v-1e4576ec",null).exports},data:function(){return{webSpeech:window.$webSpeechInterface}}},O={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("module",{attrs:{title:"Dialog"}},[e("dialog-settings",{attrs:{webSpeech:this.webSpeech}}),this._v(" "),e("dialog-status",{attrs:{webSpeech:this.webSpeech}}),this._v(" "),e("dialog-conversation",{attrs:{webSpeech:this.webSpeech}})],1)],1)},staticRenderFns:[]},N=n("VU/8")(L,O,!1,null,null,null).exports,H={props:["title","headers","contents"],components:{ModuleItem:m}},q={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("module-item",{attrs:{title:this.title}},[e("table",[this._t("default")],2)])],1)},staticRenderFns:[]};var G=n("VU/8")(H,q,!1,function(t){n("MiGc")},null,null).exports,Q={props:["robotProps"],components:{ModuleTable:G}},j={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("module-table",{attrs:{title:"Connected Robots"}},[n("tr",[n("th",[t._v("Name")]),t._v(" "),n("th",[t._v("IP Address")]),t._v(" "),n("th",[t._v("Connection Status")]),t._v(" "),n("th",[t._v("Behavior State")])]),t._v(" "),n("tr",[n("td",[t._v(t._s(t.robotProps.name))]),t._v(" "),n("td",[t._v(t._s(t.robotProps.ipAddress))]),t._v(" "),n("td",[t._v(t._s(t.robotProps.isConnected))]),t._v(" "),n("td",[t._v(t._s(t.robotProps.autoState))])])])],1)},staticRenderFns:[]},K={components:{Module:h,ModuleItem:m,TableRobots:n("VU/8")(Q,j,!1,null,null,null).exports,OutputText:V},data:function(){return{serverIp:"",apiInterface:window.$apiInterface}}},W={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("module",{attrs:{title:"Connections"}},[e("output-text",{attrs:{title:"Server Status:",value:this.apiInterface.connectionStatus}}),this._v(" "),e("table-robots",{attrs:{robotProps:this.apiInterface.robot.properties}})],1)],1)},staticRenderFns:[]},Y=n("VU/8")(K,W,!1,null,null,null).exports,J={components:{Module:h}},z={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("module",{attrs:{title:"Settings"}},[this._v("Im in the module")])],1)},staticRenderFns:[]},B=n("VU/8")(J,z,!1,null,null,null).exports,X={data:function(){return{speechLog:window.$apiInterface.robot.speechLog}}},Z={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",[this._v("Subtitles\n    "),e("div",[this._v(this._s(this.speechLog))])])},staticRenderFns:[]};var tt=n("VU/8")(X,Z,!1,function(t){n("zFJY")},"data-v-b79218ce",null).exports,et={props:["robot"],components:{ModuleTable:G},data:function(){return{tags:[{name:"animations",checked:!1},{name:"Positive",checked:!1},{name:"Stand",checked:!1},{name:"Neutral",checked:!1}]}},methods:{tagFilter:function(t){this.tags.filter(function(t){return!0===t.checked}).map(function(t){return t.name});return t},RunAction:function(t){this.robot.RunAction(t)}}},nt={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("module-table",{attrs:{title:t.robot.name+" Actions"}},[t._l(t.tags,function(e,o){return n("div",{key:o},[t._v("\r\n    "+t._s(e.name)+"\r\n    "+t._s(e.checked)+"\r\n    "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.checked,expression:"tag.checked"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.checked)?t._i(e.checked,null)>-1:e.checked},on:{change:function(n){var o=e.checked,r=n.target,s=!!r.checked;if(Array.isArray(o)){var i=t._i(o,null);r.checked?i<0&&t.$set(e,"checked",o.concat([null])):i>-1&&t.$set(e,"checked",o.slice(0,i).concat(o.slice(i+1)))}else t.$set(e,"checked",s)}}})])}),t._v(" "),n("tr",[n("th",[t._v("Name")]),t._v(" "),n("th",[t._v("ID")]),t._v(" "),n("th",[t._v("Type")]),t._v(" "),n("th",[t._v("Tags")]),t._v(" "),n("th",[t._v("Controls")])]),t._v(" "),t._l(t.robot.actions,function(e,o){return t.tagFilter(e.tags)?n("tr",{key:o},[n("td",[t._v(t._s(e.name))]),t._v(" "),n("td",[t._v(t._s(e.id))]),t._v(" "),n("td",[t._v(t._s(e.type))]),t._v(" "),n("td",[t._v(t._s(e.tags))]),t._v(" "),n("td",[n("button",{on:{click:function(){return t.RunAction(e.id)}}},[t._v("Run")])])]):t._e()})],2)],1)},staticRenderFns:[]};var ot={components:{TableActions:n("VU/8")(et,nt,!1,function(t){n("PSdp")},"data-v-614ab014",null).exports},data:function(){return{robot:window.$apiInterface.robot}}},rt={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("table-actions",{attrs:{robot:this.robot}})],1)},staticRenderFns:[]},st=n("VU/8")(ot,rt,!1,null,null,null).exports,it={components:{Module:h,ModuleItem:m,InputRange:R,InputText:b},data:function(){return{phraseToSay:"",sayAnimated:!1,robot:window.$apiInterface.robot}},methods:{propertyDown:function(t){this.robot.SetProperty(t,this.robot.properties[t]-10)},propertyUp:function(t){this.robot.SetProperty(t,this.robot.properties[t]+10)},wakeUp:function(){this.robot.DoMethod("SetAutoState",["solitary"])},stopAll:function(){this.robot.DoMethod("StopAll")},goToSleep:function(){this.robot.DoMethod("SetAutoState",["disabled"])},sayPhrase:function(t){this.robot.DoMethod("Say",[t,this.sayAnimated])}}},at={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return void 0!=t.robot?n("div",[n("module",{attrs:{title:t.robot.properties.name+" Remote Controller"}},[n("div",{staticClass:"contents"},[n("input-range",{attrs:{title:"Master Volume",onDown:function(){return t.propertyDown("volume")},onUp:function(){return t.propertyUp("volume")},value:t.robot.properties.volume}}),t._v(" "),n("input-range",{attrs:{title:"Speech Volume",onDown:function(){return t.propertyDown("speechVolume")},onUp:function(){return t.propertyUp("speechVolume")},value:t.robot.properties.speechVolume}}),t._v(" "),n("input-range",{attrs:{title:"Speech Speed",onDown:function(){return t.propertyDown("speechSpeed")},onUp:function(){return t.propertyUp("speechSpeed")},value:t.robot.properties.speechSpeed}}),t._v(" "),n("input-range",{attrs:{title:"Speech Pitch",onDown:function(){return t.propertyDown("speechPitch")},onUp:function(){return t.propertyUp("speechPitch")},value:t.robot.properties.speechPitch}}),t._v(" "),n("module-item",{attrs:{title:"Buttons"}},[n("button",{attrs:{tabindex:"2"},on:{click:t.stopAll}},[t._v("Stop All")]),t._v(" "),n("button",{attrs:{tabindex:"3"},on:{click:t.wakeUp}},[t._v("Wake Up")]),t._v(" "),n("button",{attrs:{tabindex:"4"},on:{click:t.goToSleep}},[t._v("Go To Sleep")])]),t._v(" "),n("input-text",{attrs:{title:"Say a phrase",onEnterCallback:t.sayPhrase}},[n("label",[n("input",{directives:[{name:"model",rawName:"v-model",value:t.sayAnimated,expression:"sayAnimated"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.sayAnimated)?t._i(t.sayAnimated,null)>-1:t.sayAnimated},on:{change:function(e){var n=t.sayAnimated,o=e.target,r=!!o.checked;if(Array.isArray(n)){var s=t._i(n,null);o.checked?s<0&&(t.sayAnimated=n.concat([null])):s>-1&&(t.sayAnimated=n.slice(0,s).concat(n.slice(s+1)))}else t.sayAnimated=r}}}),t._v("\r\n      Say Animated\r\n  ")])])],1)])],1):t._e()},staticRenderFns:[]};var ct=n("VU/8")(it,at,!1,function(t){n("4OIX")},"data-v-1476de46",null).exports;o.a.use(u.a);var ut=new u.a({routes:[{path:"/",name:"Home",component:p},{path:"/remote",name:"Remote",component:ct},{path:"/connection",component:Y},{path:"/dialog",component:N},{path:"/settings",component:B},{path:"/actions",name:"Actions",component:st},{path:"/subtitles",name:"Subtitles",component:tt}],mode:"history"}),lt=n("//Fk"),pt=n.n(lt);n("Ya8g");var dt=n("mvHQ"),ht=n.n(dt),vt=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,n=void 0==e?{}:{headers:{"content-type":"application/json"},method:"POST",body:ht()(e)},o=void 0==e?"\nGET\n":"\nPOST\n";return console.log(o+t),new pt.a(function(e,o){fetch(t,n).then(function(t){200==t.status?"application/json"==t.headers.get("content-type")?t.json().then(function(t){e(t)}):e(t.body):t.status>=400&&console.log(t.status.toString()+"\noh moit just give up")}).catch(function(t){return console.log(t+"\nlikely server is unresponsive")})})};window.pollEvents=!1;var mt=function(t,e){var n=t+"/nao/",o={properties:{},speechLog:[],SetProperty:function(t,e){vt(n+"properties/"+t,{params:{value:e}}).then(function(e){return o.properties[t]=e.value})},DoMethod:function(t,e){vt(n+"methods/"+t,{params:e}).then(function(t){return console.log(t)})},RunAction:function(t){vt(n+"actions/"+t).then(function(t){return console.log(t)})},FetchEvents:s};setInterval(function(){pollEvents&&s(!0).then(function(t){return function(t,e){console.log("events occured:"),e.forEach(function(e){console.log(e),function(t,e){switch(e.key){case"ALTextToSpeech/CurrentSentence":t.speechLog.push(e.value)}}(t,e)})}(o,t)})},5e3);var r={robot:o,connectionStatus:"not connected"};function s(t){return new pt.a(function(e,o){vt(n+"events/fetch",{params:{drain:t}}).then(function(t){return e(t.events)})})}return vt(n+"properties/all").then(function(t){"nao request not set"!==t&&(console.log("All properties received"),r.robot.properties=t.value,r.connectionStatus="connected")}),vt(n+"actions/all").then(function(t){"nao request not set"!==t&&(console.log("All actions received"),r.robot.actions=t)}),r},ft=function(t){var e=function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(!(!1 in window)){var e=new webkitSpeechRecognition;e.continuous=!0,e.interimResults=!0,e.lang="en-AU";var n={recognition:e,hasStarted:!1,hasAudioStarted:!1,hasSpeechStarted:!1,hasSoundStarted:!1,autoRestart:!0,onResult:function(t){console.log("recognition proxy __onResult__ not yet set")},conversationLog:[],errorLog:[],currentSentence:"",lastSentence:"",phraseTimeout:500,lastWordTimestamp:new Date,setEnabled:function(t){1!=t||n.hasStarted?0==t&&n.hasStarted&&(console.log("stopping"),e.stop()):(console.log("starting"),e.start())},restart:function(){n.setEnabled(!1),n.setEnabled(!0)},setContinuous:function(t){e.continuous=t,n.restart()},setInterim:function(t){e.interimResults=t,n.restart()},incrementPhraseTimeout:function(){return n.phraseTimeout+=10},decrementPhraseTimeout:function(){return n.phraseTimeout-=10},setAutoRestart:function(t){return n.autoRestart=t},MakeQuery:function(t){n.lastSentence=t,n.conversationLog.unshift({type:"query",text:t}),n.currentSentence="",console.log("phrase concluded"),n.onResult(t).then(function(t){Array.isArray(t)?t.forEach(function(t){return n.conversationLog.unshift({type:"response",text:t})}):n.conversationLog.unshift({type:"response",text:t})})}};return e.start(),o("onspeechstart","onspeechend","hasSpeechStarted"),o("onaudiostart","onaudioend","hasAudioStarted"),o("onsoundstart","onsoundend","hasSoundStarted"),o("onstart","onend","hasStarted",void 0,function(){n.autoRestart&&e.start()}),e.onerror=function(t){"no-speech"===t.error&&console.log("error:"+t.error)},e.onresult=function(t){n.currentSentence="",n.lastWordTimestamp=new Date;for(var e=t.resultIndex;e<t.results.length;++e)if(t.results[e].isFinal){var o=t.results[e][0].transcript;n.MakeQuery(o)}else console.log("interim.."),n.currentSentence+=t.results[e][0].transcript},n}function o(o,r,s,i,a){e[o]=function(){t&&console.log("event "+o),n[s]=!0,i&&i()},e[r]=function(){t&&console.log("event "+r),a&&a(),n[s]=!1}}console.log("web speech not supported")}(),n=t+"/dialog/";return e.onResult=function(t){return new pt.a(function(e,o){var r=t.replace(/ /g,"_");"_"===r.charAt(0)&&(r=r.substring(1)),vt(n+r).then(function(t){console.log("Response received"),console.log(t),e(t.responseText)})})},e};o.a.config.productionTip=!1,new o.a({el:"#app",router:ut,components:{App:c},template:"<App/>",beforeCreate:function(){window.$apiInterface=mt("http://localhost:5000"),window.$webSpeechInterface=ft("http://localhost:5000")}})},PSdp:function(t,e){},QT3L:function(t,e){},SeoG:function(t,e){},c2sa:function(t,e){},lHgE:function(t,e){},zFJY:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.012c08ff8debbe17fb6f.js.map