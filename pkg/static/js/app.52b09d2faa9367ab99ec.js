webpackJsonp([1],{"0mIb":function(t,e){},"1Dkj":function(t,e){},"6C0a":function(t,e){},FQ86:function(t,e){},HUmT:function(t,e){},LvRL:function(t,e){},MiGc:function(t,e){},NHnr:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n("7+uW"),r={render:function(){var t=this.$createElement;return(this._self._c||t)("div",[this._v("\n    Improvise\n")])},staticRenderFns:[]};var i={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("hr"),t._v(" "),n("div",{staticClass:"container"},[n("div",{staticClass:"links"},[n("router-link",{attrs:{to:"/"}},[t._v("Home")]),t._v(" "),n("router-link",{attrs:{to:"/connection"}},[t._v("Connection")]),t._v(" "),n("router-link",{attrs:{to:"/remote"}},[t._v("Remote")]),t._v(" "),n("router-link",{attrs:{to:"/actions"}},[t._v("Actions")]),t._v(" "),n("router-link",{attrs:{to:"/dialog"}},[t._v("Dialog")]),t._v(" "),n("router-link",{attrs:{to:"/subtitles"}},[t._v("Subtitles")])],1)]),t._v(" "),n("hr")])},staticRenderFns:[]};var s={name:"App",components:{Heading:n("VU/8")(null,r,!1,function(t){n("FQ86")},"data-v-712a6730",null).exports,Navigation:n("VU/8")(null,i,!1,function(t){n("yeK5")},"data-v-6b9c7e2d",null).exports}},a={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("heading"),this._v(" "),e("navigation"),this._v(" "),e("router-view")],1)},staticRenderFns:[]};var c=n("VU/8")(s,a,!1,function(t){n("1Dkj")},null,null).exports,u=n("/ocq"),l={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"container"},[e("div",{staticClass:"content"},[e("div",{staticClass:"title"},[this._v(this._s(this.title))]),this._v(" "),e("hr"),this._v(" "),this._t("default")],2)])},staticRenderFns:[]};var p=n("VU/8")({props:["title"]},l,!1,function(t){n("HUmT")},"data-v-5c2c31ee",null).exports,d={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("div",{staticClass:"title"},[this._v(this._s(this.title))]),this._v(" "),this._t("default")],2)},staticRenderFns:[]};var h=n("VU/8")({props:["title"]},d,!1,function(t){n("LvRL")},"data-v-442dd897",null).exports,v={components:{Module:p,ModuleItem:h},data:function(){return{naoIP:""}},methods:{submit:function(){this.$router.push("/socket/"+this.naoIP),this.naoIP=""},ipKeyDown:function(t){"Enter"===t.key&&this.submit()}}},m={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("module",{attrs:{title:"Home"}},[e("module-item",{attrs:{title:"Welcome"}},[e("p",[this._v("This is the Improvise app for the Mark Moran Group.")]),this._v(" "),e("p",[this._v("It is intended to provide a platform for staff to operate the NAO Robots.")]),this._v(" "),e("p",[this._v("To Get Started, jump to the 'Connection' Tab to ensure everything is connected properly.")]),this._v(" "),e("p",[this._v("If you require any assistance please email Peter at phayman@markmoran.com.au")])])],1)],1)},staticRenderFns:[]};var f=n("VU/8")(v,m,!1,function(t){n("orCm")},"data-v-629aedf7",null).exports,_={props:["title","onEnterCallback"],components:{ModuleItem:h},data:function(){return{value:""}},methods:{onEnter:function(){this.onEnterCallback(this.value),this.value=""},onTextboxKeyPress:function(t){"Enter"==t.key&&this.onEnter()}}},b={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("module-item",{attrs:{title:t.title}},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.value,expression:"value"}],attrs:{tabindex:"1"},domProps:{value:t.value},on:{keypress:t.onTextboxKeyPress,input:function(e){e.target.composing||(t.value=e.target.value)}}}),t._v(" "),n("button",{on:{click:t.onEnter}},[t._v("Submit")]),t._v(" "),t._t("default")],2)},staticRenderFns:[]},S=n("VU/8")(_,b,!1,null,null,null).exports,g={props:["webSpeech"],components:{InputText:S,ModuleItem:h}},y={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("module-item",{attrs:{title:"Conversation"}},[n("input-text",{staticClass:"input-text",attrs:{title:"Ask a question",onEnterCallback:t.webSpeech.MakeQuery}}),t._v(" "),n("div",{staticClass:"contents"},t._l(t.webSpeech.conversationLog,function(e,o){return n("div",{key:o,class:"sentence "+e.type},[t._v(t._s(e.text))])}))],1)},staticRenderFns:[]};var w=n("VU/8")(g,y,!1,function(t){n("ihXO")},"data-v-6140fae4",null).exports,k={props:["title","onChange","initialValue"],components:{ModuleItem:h},data:function(){return{isChecked:!1}},created:function(){void 0!==this.initialValue&&(this.isChecked=this.initialValue)}},x={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("module-item",{attrs:{title:t.title}},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.isChecked,expression:"isChecked"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.isChecked)?t._i(t.isChecked,null)>-1:t.isChecked},on:{change:[function(e){var n=t.isChecked,o=e.target,r=!!o.checked;if(Array.isArray(n)){var i=t._i(n,null);o.checked?i<0&&(t.isChecked=n.concat([null])):i>-1&&(t.isChecked=n.slice(0,i).concat(n.slice(i+1)))}else t.isChecked=r},function(e){t.onChange(t.isChecked)}]}})])},staticRenderFns:[]},C=n("VU/8")(k,x,!1,null,null,null).exports,A={props:["title","onDown","onUp","value"],components:{ModuleItem:h}},I={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("module-item",{attrs:{title:t.title}},[n("div",{staticClass:"functional"},[n("span",[t._v(t._s(t.value))]),t._v(" "),n("button",{on:{click:t.onDown}},[t._v("-")]),t._v(" "),n("button",{on:{click:t.onUp}},[t._v("+")])])])},staticRenderFns:[]};var R=n("VU/8")(A,I,!1,function(t){n("6C0a")},"data-v-eabf816e",null).exports,E={props:["webSpeech"],components:{ModuleItem:h,InputCheckbox:C,InputRange:R}},U={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("module-item",{attrs:{title:"Settings"}},[n("div",{staticClass:"contents"},[n("input-checkbox",{attrs:{title:"Enabled",onChange:t.webSpeech.setEnabled,initialValue:t.webSpeech.hasStarted}}),t._v(" "),n("input-checkbox",{attrs:{title:"Auto Restart",initialValue:t.webSpeech.autoRestart,onChange:t.webSpeech.setAutoRestart}}),t._v(" "),n("input-checkbox",{attrs:{title:"Continuous",initialValue:t.webSpeech.recognition.continuous,onChange:t.webSpeech.setContinuous}}),t._v(" "),n("input-checkbox",{attrs:{title:"Interim",initialValue:t.webSpeech.recognition.interimResults,onChange:t.webSpeech.setInterim}}),t._v(" "),n("input-range",{attrs:{title:"Phrase Timeout (not yet implemented)",onUp:t.webSpeech.incrementPhraseTimeout,onDown:t.webSpeech.decrementPhraseTimeout,value:t.webSpeech.phraseTimeout}})],1)])},staticRenderFns:[]};var T=n("VU/8")(E,U,!1,function(t){n("pmv7")},"data-v-667c2b72",null).exports,V={props:["title","value"],components:{ModuleItem:h}},M={render:function(){var t=this.$createElement,e=this._self._c||t;return e("module-item",{attrs:{title:this.title}},[e("p",[this._v(this._s(this.value))])])},staticRenderFns:[]},P=n("VU/8")(V,M,!1,null,null,null).exports,$={props:["title","value"],components:{ModuleItem:h}},D={render:function(){var t=this.$createElement,e=this._self._c||t;return e("module-item",{attrs:{title:this.title}},[e("div",[this._v(this._s(this.value))])])},staticRenderFns:[]},F={props:["webSpeech"],components:{ModuleItem:h,OutputText:P,OutputCheckbox:n("VU/8")($,D,!1,null,null,null).exports}},L={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("module-item",{attrs:{title:"Status"}},[n("div",{staticClass:"contents"},[n("output-text",{attrs:{title:"Current Sentence",value:t.webSpeech.currentSentence}}),t._v(" "),n("output-text",{attrs:{title:"Last Sentence",value:t.webSpeech.lastSentence}}),t._v(" "),n("output-checkbox",{attrs:{title:"Online",value:t.webSpeech.hasStarted}}),t._v(" "),n("output-checkbox",{attrs:{title:"Audio Online",value:t.webSpeech.hasAudioStarted}}),t._v(" "),n("output-checkbox",{attrs:{title:"Sound detected",value:t.webSpeech.hasSoundStarted}}),t._v(" "),n("output-checkbox",{attrs:{title:"Speech detected",value:t.webSpeech.hasSpeechStarted}})],1)])},staticRenderFns:[]};var O={components:{Module:p,DialogConversation:w,DialogSettings:T,DialogStatus:n("VU/8")(F,L,!1,function(t){n("lHgE")},"data-v-1e4576ec",null).exports},data:function(){return{webSpeech:window.$webSpeechInterface}}},H={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("module",{attrs:{title:"Dialog"}},[e("dialog-settings",{attrs:{webSpeech:this.webSpeech}}),this._v(" "),e("hr"),this._v(" "),e("dialog-status",{attrs:{webSpeech:this.webSpeech}}),this._v(" "),e("hr"),this._v(" "),e("dialog-conversation",{attrs:{webSpeech:this.webSpeech}})],1)],1)},staticRenderFns:[]},N=n("VU/8")(O,H,!1,null,null,null).exports,j={props:["title","headers","contents"],components:{ModuleItem:h}},q={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("module-item",{attrs:{title:this.title}},[e("table",[this._t("default")],2)])],1)},staticRenderFns:[]};var G=n("VU/8")(j,q,!1,function(t){n("MiGc")},null,null).exports,Q={props:["robotProps"],components:{ModuleTable:G}},K={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("module-table",{attrs:{title:"Connected Robots"}},[n("tr",[n("th",[t._v("Name")]),t._v(" "),n("th",[t._v("IP Address")]),t._v(" "),n("th",[t._v("Behavior State")])]),t._v(" "),n("tr",[n("td",[t._v(t._s(t.robotProps.name))]),t._v(" "),n("td",[t._v(t._s(t.robotProps.ipAddress))]),t._v(" "),n("td",[t._v(t._s(t.robotProps.autoState))])])])],1)},staticRenderFns:[]},W={components:{Module:p,ModuleItem:h,TableRobots:n("VU/8")(Q,K,!1,null,null,null).exports,OutputText:P},data:function(){return{serverIp:"",apiInterface:window.$apiInterface}}},Y={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("module",{attrs:{title:"Connections"}},[e("output-text",{attrs:{title:"Server Status:",value:this.apiInterface.connectionStatus}}),this._v(" "),e("table-robots",{attrs:{robotProps:this.apiInterface.robot.properties}})],1)],1)},staticRenderFns:[]},B=n("VU/8")(W,Y,!1,null,null,null).exports,X={components:{Module:p}},J={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("module",{attrs:{title:"Settings"}},[this._v("Im in the module")])],1)},staticRenderFns:[]},z=n("VU/8")(X,J,!1,null,null,null).exports,Z={components:{InputCheckbox:C,Module:p},data:function(){return{robot:window.$apiInterface.robot,autoScroll:!0}},methods:{onAutoscrollChange:function(t){this.autoScroll=t}},updated:function(){this.autoScroll&&window.scrollTo({top:document.body.scrollHeight,behavior:"smooth"})}},tt={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("module",{attrs:{title:"Subtitles"}},[n("input-checkbox",{attrs:{title:"Autoscroll",onChange:t.onAutoscrollChange,initialValue:!0}}),t._v(" "),n("div",{staticClass:"contents"},t._l(t.robot.speechLog,function(e,o){return n("div",{key:o,staticClass:"phrase"},[t._v("\n    "+t._s(e)+"\n    ")])}))],1)},staticRenderFns:[]};var et=n("VU/8")(Z,tt,!1,function(t){n("Yh3/")},"data-v-ce456c4e",null).exports,nt={props:["robot"],components:{ModuleTable:G},data:function(){return{tags:[{name:"animations",checked:!1},{name:"Positive",checked:!1},{name:"Stand",checked:!1},{name:"Neutral",checked:!1}]}},methods:{RunAction:function(t){this.robot.RunAction(t)}}},ot={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("module-table",{attrs:{title:"All actions"}},[n("tr",[n("th",[t._v("Name")]),t._v(" "),n("th",[t._v("ID")]),t._v(" "),n("th",[t._v("Type")]),t._v(" "),n("th",[t._v("Tags")]),t._v(" "),n("th",[t._v("Controls")])]),t._v(" "),t._l(t.robot.actions,function(e,o){return n("tr",{key:o},[n("td",[t._v(t._s(e.name))]),t._v(" "),n("td",[t._v(t._s(e.id))]),t._v(" "),n("td",[t._v(t._s(e.type))]),t._v(" "),n("td",[t._v(t._s(e.tags))]),t._v(" "),n("td",[n("button",{on:{click:function(){return t.RunAction(e.id)}}},[t._v("Run")])])])})],2)],1)},staticRenderFns:[]};var rt={components:{Module:p,TableActions:n("VU/8")(nt,ot,!1,function(t){n("0mIb")},"data-v-f914bf12",null).exports},data:function(){return{robot:window.$apiInterface.robot}}},it={render:function(){var t=this.$createElement,e=this._self._c||t;return e("module",{attrs:{title:this.robot.properties.name+" Actions"}},[e("table-actions",{attrs:{robot:this.robot}})],1)},staticRenderFns:[]},st=n("VU/8")(rt,it,!1,null,null,null).exports,at={components:{Module:p,ModuleItem:h,InputRange:R,InputText:S,InputCheckbox:C},data:function(){return{phraseToSay:"",sayAnimated:!1,robot:window.$apiInterface.robot}},methods:{propertyDown:function(t){this.robot.SetProperty(t,this.robot.properties[t]-10)},propertyUp:function(t){this.robot.SetProperty(t,this.robot.properties[t]+10)},wakeUp:function(){this.robot.DoMethod("SetAutoState",{state:"solitary"})},stopAll:function(){this.robot.DoMethod("StopAll")},goToSleep:function(){this.robot.DoMethod("SetAutoState",{state:"disabled"})},sayPhrase:function(t){this.robot.DoMethod("Say",{phrase:t,animated:this.sayAnimated})}}},ct={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return void 0!=t.robot?n("div",[n("module",{attrs:{title:t.robot.properties.name+" Remote Controller"}},[n("div",{staticClass:"contents"},[n("input-range",{attrs:{title:"Master Volume",onDown:function(){return t.propertyDown("volume")},onUp:function(){return t.propertyUp("volume")},value:t.robot.properties.volume}}),t._v(" "),n("input-range",{attrs:{title:"Speech Volume",onDown:function(){return t.propertyDown("speechVolume")},onUp:function(){return t.propertyUp("speechVolume")},value:t.robot.properties.speechVolume}}),t._v(" "),n("input-range",{attrs:{title:"Speech Speed",onDown:function(){return t.propertyDown("speechSpeed")},onUp:function(){return t.propertyUp("speechSpeed")},value:t.robot.properties.speechSpeed}}),t._v(" "),n("input-range",{attrs:{title:"Speech Pitch",onDown:function(){return t.propertyDown("speechPitch")},onUp:function(){return t.propertyUp("speechPitch")},value:t.robot.properties.speechPitch}}),t._v(" "),n("module-item",{attrs:{title:"Buttons"}},[n("button",{attrs:{tabindex:"2"},on:{click:t.stopAll}},[t._v("Stop All")]),t._v(" "),n("button",{attrs:{tabindex:"3"},on:{click:t.wakeUp}},[t._v("Wake Up")]),t._v(" "),n("button",{attrs:{tabindex:"4"},on:{click:t.goToSleep}},[t._v("Go To Sleep")])]),t._v(" "),n("input-text",{attrs:{title:"Say a phrase",onEnterCallback:t.sayPhrase}},[n("label",[n("input",{directives:[{name:"model",rawName:"v-model",value:t.sayAnimated,expression:"sayAnimated"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.sayAnimated)?t._i(t.sayAnimated,null)>-1:t.sayAnimated},on:{change:function(e){var n=t.sayAnimated,o=e.target,r=!!o.checked;if(Array.isArray(n)){var i=t._i(n,null);o.checked?i<0&&(t.sayAnimated=n.concat([null])):i>-1&&(t.sayAnimated=n.slice(0,i).concat(n.slice(i+1)))}else t.sayAnimated=r}}}),t._v("\r\n        Say Animated\r\n      ")])]),t._v(" "),n("input-checkbox",{attrs:{title:"Listen For Events",onChange:t.robot.SetEventListening,initialValue:t.robot.eventListeningEnabled}})],1)])],1):t._e()},staticRenderFns:[]};var ut=n("VU/8")(at,ct,!1,function(t){n("u4OG")},"data-v-9ee6b3ce",null).exports;o.a.use(u.a);var lt=new u.a({routes:[{path:"/",name:"Home",component:f},{path:"/remote",name:"Remote",component:ut},{path:"/connection",component:B},{path:"/dialog",component:N},{path:"/settings",component:z},{path:"/actions",name:"Actions",component:st},{path:"/subtitles",name:"Subtitles",component:et}],mode:"history"}),pt=n("woOf"),dt=n.n(pt),ht=n("//Fk"),vt=n.n(ht),mt=(n("Ya8g"),function(t,e){e.forEach(function(e){!function(t,e){switch(e.key){case"ALTextToSpeech/CurrentSentence":var n=function(t){for(var e=t.split("\\"),n="",o=0;o<e.length;o+=2)n+=e[o];return n}(e.value);""!=n&&t.speechLog.push(n)}}(t,e)})});var ft=n("mvHQ"),_t=n.n(ft),bt=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,n=void 0==e?{}:{headers:{"content-type":"application/json"},method:"POST",body:_t()(e)};return new vt.a(function(e,o){fetch(t,n).then(function(t){200==t.status?"application/json"==t.headers.get("content-type")?t.json().then(function(t){e(t)}):e(t.body):t.status>=400&&console.log(t.status.toString()+"\noh moit just give up")}).catch(function(t){return console.log(t+"\nlikely server is unresponsive")})})},St=function(t,e){var n=t+"/modules/nao",o={properties:{},actions:[],speechLog:[],SetProperty:function(t,e){bt(n,{module:"properties",propertyName:t,propertyValue:e}).then(function(e){return o.properties[t]=e.value})},DoMethod:function(t,e){var o=dt()({module:"methods",methodName:t},e);bt(n,o).then(function(t){return console.log(t)})},RunAction:function(t){bt(n,{module:"actions",id:t}).then(function(t){return console.log(t)})},eventListeningEnabled:!1,eventIntervalId:void 0};o.SetEventListening=function(t){1==t?(o.eventListeningEnabled=!0,o.eventIntervalId=setInterval(function(){var t;(t=!0,new vt.a(function(e,o){bt(n,{module:"events",drain:t}).then(function(t){return e(t.events)})})).then(function(t){return mt(o,t)})},5e3)):void 0!=o.eventIntervalId&&(o.eventListeningEnabled=!1,clearInterval(o.eventIntervalId))},o.SetEventListening(!0);var r={robot:o,connectionStatus:"not connected"};return bt(n,{module:"properties"}).then(function(t){"nao request not set"!==t&&(console.log("All properties received"),r.robot.properties=t,r.connectionStatus="connected")}),bt(n,{module:"actions"}).then(function(t){"nao request not set"!==t&&(console.log("All actions received"),r.robot.actions=t)}),r},gt=function(t){var e=function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(!(!1 in window)){var e=new webkitSpeechRecognition;e.continuous=!0,e.interimResults=!0,e.lang="en-AU";var n={recognition:e,hasStarted:!1,hasAudioStarted:!1,hasSpeechStarted:!1,hasSoundStarted:!1,autoRestart:!0,onResult:function(t){console.log("recognition proxy __onResult__ not yet set")},conversationLog:[],errorLog:[],currentSentence:"",lastSentence:"",phraseTimeout:500,lastWordTimestamp:new Date,setEnabled:function(t){1!=t||n.hasStarted?0==t&&n.hasStarted&&(console.log("stopping"),e.stop()):(console.log("starting"),e.start())},restart:function(){n.setEnabled(!1),n.setEnabled(!0)},setContinuous:function(t){e.continuous=t,n.restart()},setInterim:function(t){e.interimResults=t,n.restart()},incrementPhraseTimeout:function(){return n.phraseTimeout+=10},decrementPhraseTimeout:function(){return n.phraseTimeout-=10},setAutoRestart:function(t){return n.autoRestart=t},MakeQuery:function(t){n.lastSentence=t,n.conversationLog.unshift({type:"query",text:t}),n.currentSentence="",console.log("phrase concluded"),n.onResult(t).then(function(t){Array.isArray(t)?t.forEach(function(t){return n.conversationLog.unshift({type:"response",text:t})}):n.conversationLog.unshift({type:"response",text:t})})}};return o("onspeechstart","onspeechend","hasSpeechStarted"),o("onaudiostart","onaudioend","hasAudioStarted"),o("onsoundstart","onsoundend","hasSoundStarted"),o("onstart","onend","hasStarted",void 0,function(){n.autoRestart&&e.start()}),e.onerror=function(t){"no-speech"===t.error&&console.log("error:"+t.error)},e.onresult=function(t){n.currentSentence="",n.lastWordTimestamp=new Date;for(var e=t.resultIndex;e<t.results.length;++e)if(t.results[e].isFinal){var o=t.results[e][0].transcript;n.MakeQuery(o)}else console.log("interim.."),n.currentSentence+=t.results[e][0].transcript},n}function o(o,r,i,s,a){e[o]=function(){t&&console.log("event "+o),n[i]=!0,s&&s()},e[r]=function(){t&&console.log("event "+r),a&&a(),n[i]=!1}}console.log("web speech not supported")}(),n=t+"/modules/dialog";return e.onResult=function(t){return new vt.a(function(e,o){" "===t.charAt(0)&&(t=t.substring(1)),bt(n,{queryText:t}).then(function(t){console.log("Response received"),console.log(t),e(t.responseText)})})},e};o.a.config.productionTip=!1,new o.a({el:"#app",router:lt,components:{App:c},template:"<App/>",beforeCreate:function(){window.$apiInterface=St("http://localhost:5000"),window.$webSpeechInterface=gt("http://localhost:5000")}})},"Yh3/":function(t,e){},ihXO:function(t,e){},lHgE:function(t,e){},orCm:function(t,e){},pmv7:function(t,e){},u4OG:function(t,e){},yeK5:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.52b09d2faa9367ab99ec.js.map